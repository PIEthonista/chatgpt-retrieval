(langchain) ðŸŽƒ gohyixian chatgpt-retrieval % python main.py
>>> Prompt: hi what is my expense on food 2 weeks ago today?
data_analysis -> 
--- model return date
--- selected date {'start_date': '15-03-2024', 'end_date': '29-03-2024'}
--- data_csv  Unnamed: 0       DATE            CATEGORY  WITHDRAWAL AMT  DEPOSIT AMT
        708 2024-03-15      Other Expenses           82.00          NaN
        709 2024-03-15      Other Expenses           28.00          NaN
        710 2024-03-15      Other Expenses          731.82          NaN
        711 2024-03-15      Other Expenses          892.00          NaN
        712 2024-03-15      Other Expenses          731.82          NaN
        713 2024-03-15      Other Expenses          892.00          NaN
        714 2024-03-15 Government Services           68.00          NaN
        715 2024-03-15      Other Expenses          863.30          NaN
        716 2024-03-15      Other Expenses           42.00          NaN
        717 2024-03-15      Other Expenses          863.30          NaN
        718 2024-03-15      Other Expenses          189.00          NaN
        719 2024-03-15 Government Services          684.00          NaN
        720 2024-03-15 Government Services           68.00          NaN
        721 2024-03-16       Income/Salary             NaN      20000.0
        722 2024-03-16      Other Expenses          948.88          NaN
        723 2024-03-16       Income/Salary             NaN      20000.0
        724 2024-03-16       Income/Salary             NaN      20000.0
        725 2024-03-16       Income/Salary             NaN      20000.0
        726 2024-03-16      Other Expenses           19.00          NaN
        727 2024-03-16       Income/Salary             NaN      20000.0
        728 2024-03-16       Income/Salary             NaN      20000.0
        729 2024-03-16 Government Services           68.00          NaN
        730 2024-03-16       Income/Salary             NaN      20000.0
        731 2024-03-16      Other Expenses          217.00          NaN
        732 2024-03-16       Income/Salary             NaN      20000.0
        733 2024-03-16       Income/Salary             NaN      20000.0
        734 2024-03-16      Other Expenses          948.88          NaN
        735 2024-03-16       Income/Salary             NaN      20000.0
        736 2024-03-16      Other Expenses          948.88          NaN
        737 2024-03-16       Income/Salary             NaN      20000.0
        738 2024-03-16      Other Expenses          863.30          NaN
        739 2024-03-16      Other Expenses           42.00          NaN
        740 2024-03-16      Other Expenses          863.30          NaN
        741 2024-03-16      Other Expenses          863.30          NaN
        742 2024-03-16      Other Expenses           42.00          NaN
        743 2024-03-17      Other Expenses           42.00          NaN
        744 2024-03-17      Other Expenses          863.30          NaN
        745 2024-03-17      Other Expenses           42.00          NaN
        746 2024-03-17      Other Expenses           42.00          NaN
        747 2024-03-17           Utilities          759.00          NaN
        748 2024-03-17      Other Expenses           68.00          NaN
        749 2024-03-17 Government Services          992.00          NaN
        750 2024-03-18      Other Expenses           68.00          NaN
        751 2024-03-18           Utilities          772.00          NaN
        752 2024-03-18           Utilities           89.00          NaN
        753 2024-03-18      Other Expenses          894.00          NaN
        754 2024-03-18           Utilities           89.00          NaN
        755 2024-03-18      Other Expenses          321.00          NaN
        756 2024-03-18 Government Services          753.00          NaN
        757 2024-03-18 Government Services          675.00          NaN
        758 2024-03-18 Government Services          675.00          NaN
        759 2024-03-18      Other Expenses          659.00          NaN
        760 2024-03-18           Utilities          143.00          NaN
        761 2024-03-18      Other Expenses           44.00          NaN
        762 2024-03-18           Utilities          143.00          NaN
        763 2024-03-18      Other Expenses          321.00          NaN
        764 2024-03-19      Other Expenses           89.00          NaN
        765 2024-03-19 Government Services          447.43          NaN
        766 2024-03-19      Other Expenses           89.00          NaN
        767 2024-03-19      Other Expenses          320.04          NaN
        768 2024-03-19      Other Expenses          320.04          NaN
        769 2024-03-19      Other Expenses           63.00          NaN
        770 2024-03-19      Other Expenses          465.69          NaN
        771 2024-03-19      Other Expenses          102.00          NaN
        772 2024-03-19      Other Expenses           72.00          NaN
        773 2024-03-19      Other Expenses           67.00          NaN
        774 2024-03-19      Other Expenses           97.00          NaN
        775 2024-03-19      Other Expenses          894.00          NaN
        776 2024-03-19      Other Expenses          894.00          NaN
        777 2024-03-19      Other Expenses           67.00          NaN
        778 2024-03-19      Other Expenses          465.69          NaN
        779 2024-03-20      Other Expenses           97.00          NaN
        780 2024-03-20      Other Expenses          385.00          NaN
        781 2024-03-20      Other Expenses           72.00          NaN
        782 2024-03-20       Income/Salary             NaN      50000.0
        783 2024-03-20      Other Expenses           67.00          NaN
        784 2024-03-20      Other Expenses          102.00          NaN
        785 2024-03-20      Other Expenses          894.00          NaN
        786 2024-03-20      Other Expenses          151.22          NaN
        787 2024-03-20 Government Services          214.00          NaN
        788 2024-03-21      Other Expenses           41.99          NaN
        789 2024-03-21      Other Expenses           56.00          NaN
        790 2024-03-21      Other Expenses           41.99          NaN
        791 2024-03-21      Other Expenses          859.51          NaN
        792 2024-03-22      Other Expenses          173.35          NaN
        793 2024-03-22      Other Expenses           41.99          NaN
        794 2024-03-22      Other Expenses           56.00          NaN
        795 2024-03-22 Government Services          599.00          NaN
        796 2024-03-22      Other Expenses          600.00          NaN
        797 2024-03-22      Other Expenses          731.82          NaN
        798 2024-03-22      Other Expenses          173.35          NaN
        799 2024-03-23      Other Expenses          431.00          NaN
        800 2024-03-23      Other Expenses          162.21          NaN
        801 2024-03-23 Government Services          743.00          NaN
        802 2024-03-23       Income/Salary             NaN        870.0
        803 2024-03-23 Government Services          778.00          NaN
        804 2024-03-23      Other Expenses          654.25          NaN
        805 2024-03-23      Other Expenses           50.00          NaN
        806 2024-03-23 Government Services          921.00          NaN
        807 2024-03-23      Other Expenses           51.00          NaN
        808 2024-03-23 Government Services          778.00          NaN
        809 2024-03-24      Other Expenses           51.00          NaN
        810 2024-03-24  Debts/Overpayments          810.00          NaN
        811 2024-03-24  Debts/Overpayments          810.00          NaN
        812 2024-03-24      Other Expenses          633.00          NaN
        813 2024-03-24       Income/Salary             NaN       4000.0
        814 2024-03-24      Other Expenses         1100.00          NaN
        815 2024-03-24      Other Expenses          506.00          NaN
        816 2024-03-24      Other Expenses         1100.00          NaN
        817 2024-03-24      Other Expenses          358.00          NaN
        818 2024-03-24      Other Expenses          358.00          NaN
        819 2024-03-24      Other Expenses          193.00          NaN
        820 2024-03-24      Other Expenses          193.00          NaN
        821 2024-03-24      Other Expenses          193.00          NaN
        822 2024-03-25      Other Expenses          382.68          NaN
        823 2024-03-25           Utilities          335.00          NaN
        824 2024-03-25           Utilities          335.00          NaN
        825 2024-03-25      Other Expenses          285.00          NaN
        826 2024-03-25      Other Expenses          672.00          NaN
        827 2024-03-25      Other Expenses          285.00          NaN
        828 2024-03-25  Debts/Overpayments          227.30          NaN
        829 2024-03-26      Other Expenses          894.00          NaN
        830 2024-03-26      Other Expenses          970.00          NaN
        831 2024-03-26      Other Expenses          970.00          NaN
        832 2024-03-26 Government Services          813.00          NaN
        833 2024-03-26      Other Expenses          726.00          NaN
        834 2024-03-26      Other Expenses          726.00          NaN
        835 2024-03-26 Government Services          813.00          NaN
        836 2024-03-26      Other Expenses          695.00          NaN
        837 2024-03-26      Other Expenses          286.00          NaN
        838 2024-03-26      Other Expenses          286.00          NaN
        839 2024-03-26      Other Expenses          286.00          NaN
        840 2024-03-26 Government Services           91.00          NaN
        841 2024-03-27 Government Services          255.00          NaN
        842 2024-03-27  Debts/Overpayments          898.00          NaN
        843 2024-03-27  Debts/Overpayments          898.00          NaN
        844 2024-03-27  Debts/Overpayments          898.00          NaN
        845 2024-03-27  Debts/Overpayments          898.00          NaN
        846 2024-03-27           Utilities          811.00          NaN
        847 2024-03-27  Debts/Overpayments          898.00          NaN
        848 2024-03-27      Other Expenses          777.00          NaN
        849 2024-03-27      Other Expenses          695.00          NaN
        850 2024-03-27 Government Services           77.00          NaN
        851 2024-03-28      Other Expenses           42.00          NaN
        852 2024-03-28 Government Services           77.00          NaN
        853 2024-03-28      Other Expenses          551.81          NaN
        854 2024-03-28      Other Expenses          138.00          NaN
        855 2024-03-28      Other Expenses          605.00          NaN
        856 2024-03-28 Government Services           77.00          NaN
        857 2024-03-28 Government Services           77.00          NaN
        858 2024-03-28 Government Services           88.00          NaN
        859 2024-03-28 Government Services          607.00          NaN
        860 2024-03-28      Other Expenses          315.00          NaN
        861 2024-03-28      Other Expenses          481.75          NaN
        862 2024-03-28      Other Expenses          605.00          NaN
        863 2024-03-28      Other Expenses          234.00          NaN
        864 2024-03-28      Other Expenses          234.00          NaN
        865 2024-03-28      Other Expenses          481.75          NaN
        866 2024-03-28      Other Expenses          399.00          NaN
        867 2024-03-28      Other Expenses           65.00          NaN
        868 2024-03-28      Other Expenses          366.00          NaN
        869 2024-03-28      Other Expenses           65.00          NaN
        870 2024-03-28      Other Expenses          366.00          NaN
        871 2024-03-28           Utilities          982.00          NaN
        872 2024-03-28           Utilities          982.00          NaN
        873 2024-03-28  Debts/Overpayments          162.00          NaN
        874 2024-03-28      Other Expenses          845.87          NaN
        875 2024-03-28           Utilities          982.00          NaN
        876 2024-03-28      Other Expenses           92.00          NaN
        877 2024-03-28      Other Expenses          802.97          NaN
        878 2024-03-28 Government Services          667.00          NaN
        879 2024-03-29 Government Services          178.00          NaN
        880 2024-03-29      Other Expenses          600.00          NaN
        881 2024-03-29      Other Expenses           92.00          NaN
        882 2024-03-29      Other Expenses          469.08          NaN
        883 2024-03-29      Other Expenses          830.00          NaN
        884 2024-03-29      Other Expenses          830.00          NaN
        885 2024-03-29      Other Expenses          703.98          NaN

--- data_analysis()
To determine your expense on food 2 weeks ago today, we first need to identify the date from 2 weeks ago. 

Today's date is March 29, 2024. 
Two weeks ago from today would be March 15, 2024.

Looking at your past expense data, on March 15, 2024, there are several expenses listed under the "CATEGORY" column but none specifically labeled as food expenses. 

Would you like me to provide the total expenses on March 15, 2024, or is there any specific food-related expense that you are looking for on that date?
>>> Prompt: yes sure! please provide the total expense on marh 15 2024
data_analysis -> 
--- model return date
--- selected date {'start_date': '15-03-2024', 'end_date': '15-03-2024'}
--- data_csv  Unnamed: 0       DATE            CATEGORY  WITHDRAWAL AMT  DEPOSIT AMT
        708 2024-03-15      Other Expenses           82.00          NaN
        709 2024-03-15      Other Expenses           28.00          NaN
        710 2024-03-15      Other Expenses          731.82          NaN
        711 2024-03-15      Other Expenses          892.00          NaN
        712 2024-03-15      Other Expenses          731.82          NaN
        713 2024-03-15      Other Expenses          892.00          NaN
        714 2024-03-15 Government Services           68.00          NaN
        715 2024-03-15      Other Expenses          863.30          NaN
        716 2024-03-15      Other Expenses           42.00          NaN
        717 2024-03-15      Other Expenses          863.30          NaN
        718 2024-03-15      Other Expenses          189.00          NaN
        719 2024-03-15 Government Services          684.00          NaN
        720 2024-03-15 Government Services           68.00          NaN

--- data_analysis()
Based on the provided expense data for March 15, 2024, the total expenses incurred on that date sum up to:

$82.00 + $28.00 + $731.82 + $892.00 + $731.82 + $892.00 + $68.00 + $863.30 + $42.00 + $863.30 + $189.00 + $684.00 + $68.00 = $5,065.24

Therefore, the total expense on March 15, 2024, was $5,065.24. If you need further analysis or information, feel free to ask!
>>> Prompt: can you help me record my expense today?  i bought some vegetable for 4 ringgit and i spent 5 ringgit on a new tshirt and rm6 on grab. oh also, can you predict my expense for next week? i stay and grow up in kedah, but i will be moving to kuala lumpur next week. can you help me predict my expenses so that i can prepare for it?
record_user_expenses -> 

--- record_user_expenses()
`null`
>>> Prompt: can you help me record my expense today?  i bought some vegetable for 4 ringgit and i spent 5 ringgit on a new tshirt and rm6 on grab.
record_user_expenses -> 

--- record_user_expenses()
'groceries': 4, 'clothes': 5, 'transportation': 6
>>> Prompt: oh also, can you predict my expense for next week? i stay and grow up in kedah, but i will be moving to kuala lumpur next week. can you help me predict my expenses so that i can prepare for it?
expense_prediction -> 
--- model return date
--- selected date {'start_date': '22-03-2024', 'end_date': '28-03-2024'}

--- expenses_prediction()
To predict your expenses for the upcoming week after moving from Kedah to Kuala Lumpur, we can analyze your past expenses data and consider the change in location.

Given your past expenses data and the transition from Kedah to Kuala Lumpur, we can make the following predictions:

1. **Change in Living Costs**: Expenses in Kuala Lumpur are generally higher than in Kedah due to the higher cost of living in the city. You may expect increased expenses for daily necessities, transportation, and possibly accommodation.

2. **Transportation Costs**: Transportation costs in Kuala Lumpur, especially if you are using services like Grab, may be higher than in Kedah. Factor in the increased commuting expenses when planning your budget.

3. **Food Expenses**: Food expenses in Kuala Lumpur can vary depending on where you choose to eat. Dining out or ordering food delivery may be more expensive compared to Kedah.

4. **Utilities and Services**: Utilities and other services may have different rates in Kuala Lumpur compared to Kedah. Consider any changes in these expenses when preparing your budget.

Based on these factors, it is recommended to allocate a higher budget for your expenses in Kuala Lumpur compared to your expenses in Kedah. You may want to adjust your budget accordingly to accommodate the potential increase in living costs in the new location.

If you have any specific categories or further details you would like to analyze for expense prediction, please let me know!
>>> Prompt: can you provide the increase in expense in approximated values for each category? for example daily food, daily commuting? and monthly rental?
data_analysis -> 
--- model return date
--- selected date {'start_date': '28-02-2024', 'end_date': '29-03-2024'}
--- data_csv  Unnamed: 0       DATE            CATEGORY  WITHDRAWAL AMT  DEPOSIT AMT
        530 2024-02-28           Utilities           89.00          NaN
        531 2024-02-28 Government Services          871.00          NaN
        532 2024-02-28 Government Services          345.60          NaN
        533 2024-02-28      Other Expenses          415.00          NaN
        534 2024-02-28      Other Expenses          193.00          NaN
        535 2024-02-28           Utilities          928.30          NaN
        536 2024-02-28      Other Expenses          315.00          NaN
        537 2024-02-28       Income/Salary             NaN        750.0
        538 2024-02-28      Other Expenses          891.00          NaN
        539 2024-02-28      Other Expenses          718.72          NaN
        540 2024-02-28 Government Services          341.00          NaN
        541 2024-02-28      Other Expenses          229.63          NaN
        542 2024-02-28 Government Services           68.00          NaN
        543 2024-02-29  Debts/Overpayments           19.00          NaN
        544 2024-02-29      Other Expenses          229.63          NaN
        545 2024-02-29      Other Expenses          694.30          NaN
        546 2024-02-29  Debts/Overpayments           19.00          NaN
        547 2024-02-29 Government Services          854.00          NaN
        548 2024-02-29      Other Expenses           28.00          NaN
        549 2024-02-29      Other Expenses          892.00          NaN
        550 2024-02-29      Other Expenses           82.00          NaN
        551 2024-02-29       Income/Salary             NaN        750.0
        552 2024-02-29      Other Expenses          229.63          NaN
        553 2024-02-29      Other Expenses          189.00          NaN
        554 2024-02-29      Other Expenses          731.82          NaN
        555 2024-02-29      Other Expenses          217.00          NaN
        556 2024-02-29 Government Services          345.60          NaN
        557 2024-03-01      Other Expenses          217.00          NaN
        558 2024-03-01 Government Services          889.00          NaN
        559 2024-03-01 Government Services          991.72          NaN
        560 2024-03-01      Other Expenses           19.00          NaN
        561 2024-03-01 Government Services          192.00          NaN
        562 2024-03-01      Other Expenses           65.00          NaN
        563 2024-03-02 Government Services          992.00          NaN
        564 2024-03-02      Other Expenses           68.00          NaN
        565 2024-03-02 Government Services          992.00          NaN
        566 2024-03-03      Other Expenses           68.00          NaN
        567 2024-03-03 Government Services           68.00          NaN
        568 2024-03-03           Utilities          759.00          NaN
        569 2024-03-03      Other Expenses          366.00          NaN
        570 2024-03-03 Government Services          991.72          NaN
        571 2024-03-03 Government Services          905.00          NaN
        572 2024-03-04 Government Services          214.00          NaN
        573 2024-03-04      Other Expenses           56.00          NaN
        574 2024-03-04           Utilities          517.00          NaN
        575 2024-03-04      Other Expenses          465.69          NaN
        576 2024-03-04      Other Expenses           56.00          NaN
        577 2024-03-04      Other Expenses           67.00          NaN
        578 2024-03-04           Utilities          517.00          NaN
        579 2024-03-04      Other Expenses          659.00          NaN
        580 2024-03-04      Other Expenses           97.00          NaN
        581 2024-03-04      Other Expenses          894.00          NaN
        582 2024-03-05 Government Services          214.00          NaN
        583 2024-03-05  Debts/Overpayments          392.90          NaN
        584 2024-03-05      Other Expenses          465.69          NaN
        585 2024-03-05      Other Expenses          659.00          NaN
        586 2024-03-05       Income/Salary             NaN      20000.0
        587 2024-03-05      Other Expenses           72.00          NaN
        588 2024-03-05      Other Expenses          894.00          NaN
        589 2024-03-05 Government Services          214.00          NaN
        590 2024-03-05      Other Expenses           41.99          NaN
        591 2024-03-06      Other Expenses           97.00          NaN
        592 2024-03-06      Other Expenses          905.00          NaN
        593 2024-03-06      Other Expenses          659.00          NaN
        594 2024-03-06       Income/Salary             NaN      50000.0
        595 2024-03-06       Income/Salary             NaN      50000.0
        596 2024-03-06      Other Expenses          894.00          NaN
        597 2024-03-06 Government Services          214.00          NaN
        598 2024-03-06      Other Expenses          385.00          NaN
        599 2024-03-07      Other Expenses          385.00          NaN
        600 2024-03-07       Income/Salary             NaN      50000.0
        601 2024-03-07      Other Expenses           41.99          NaN
        602 2024-03-07       Income/Salary             NaN      50000.0
        603 2024-03-07 Government Services          214.00          NaN
        604 2024-03-08      Other Expenses          431.00          NaN
        605 2024-03-08      Other Expenses          162.21          NaN
        606 2024-03-08      Other Expenses          560.00          NaN
        607 2024-03-08       Income/Salary             NaN       1200.0
        608 2024-03-08 Government Services          599.00          NaN
        609 2024-03-08 Government Services          495.19          NaN
        610 2024-03-08      Other Expenses          399.00          NaN
        611 2024-03-08 Government Services          778.00          NaN
        612 2024-03-08      Other Expenses          560.00          NaN
        613 2024-03-08      Other Expenses          905.00          NaN
        614 2024-03-08      Other Expenses           75.00          NaN
        615 2024-03-08  Debts/Overpayments          498.00          NaN
        616 2024-03-08       Income/Salary             NaN       4000.0
        617 2024-03-09       Income/Salary             NaN       4000.0
        618 2024-03-09       Income/Salary             NaN       4000.0
        619 2024-03-09      Other Expenses          506.00          NaN
        620 2024-03-09           Utilities          517.00          NaN
        621 2024-03-09      Other Expenses          633.00          NaN
        622 2024-03-09  Debts/Overpayments          810.00          NaN
        623 2024-03-09      Other Expenses          580.74          NaN
        624 2024-03-09 Government Services          778.00          NaN
        625 2024-03-09  Debts/Overpayments           37.00          NaN
        626 2024-03-09 Government Services          299.00          NaN
        627 2024-03-09      Other Expenses          151.22          NaN
        628 2024-03-09       Income/Salary             NaN       4000.0
        629 2024-03-09       Income/Salary             NaN       4000.0
        630 2024-03-09 Government Services          778.00          NaN
        631 2024-03-09      Other Expenses          358.00          NaN
        632 2024-03-09 Government Services           29.00          NaN
        633 2024-03-09      Other Expenses          395.36          NaN
        634 2024-03-09      Other Expenses          193.00          NaN
        635 2024-03-09 Government Services          586.00          NaN
        636 2024-03-09      Other Expenses          382.68          NaN
        637 2024-03-09 Government Services          495.19          NaN
        638 2024-03-10      Other Expenses           63.00          NaN
        639 2024-03-10           Utilities          335.00          NaN
        640 2024-03-10      Other Expenses          894.00          NaN
        641 2024-03-10      Other Expenses          286.00          NaN
        642 2024-03-10 Government Services           91.00          NaN
        643 2024-03-10      Other Expenses          777.00          NaN
        644 2024-03-10      Other Expenses           14.00          NaN
        645 2024-03-10      Other Expenses          610.00          NaN
        646 2024-03-10      Other Expenses          610.00          NaN
        647 2024-03-10  Debts/Overpayments          891.00          NaN
        648 2024-03-10 Government Services           91.00          NaN
        649 2024-03-10      Other Expenses          785.00          NaN
        650 2024-03-10 Government Services          345.60          NaN
        651 2024-03-10      Other Expenses          610.00          NaN
        652 2024-03-11      Other Expenses          193.00          NaN
        653 2024-03-11      Other Expenses          785.00          NaN
        654 2024-03-11      Other Expenses          899.00          NaN
        655 2024-03-11 Government Services          813.00          NaN
        656 2024-03-11      Other Expenses          695.00          NaN
        657 2024-03-11 Government Services          871.00          NaN
        658 2024-03-11 Government Services          813.00          NaN
        659 2024-03-11      Other Expenses           42.00          NaN
        660 2024-03-11      Other Expenses           42.00          NaN
        661 2024-03-11      Other Expenses           42.00          NaN
        662 2024-03-11      Other Expenses           42.00          NaN
        663 2024-03-11 Government Services          669.00          NaN
        664 2024-03-11      Other Expenses          345.93          NaN
        665 2024-03-11      Other Expenses          859.00          NaN
        666 2024-03-11           Utilities           89.00          NaN
        667 2024-03-11           Utilities           89.00          NaN
        668 2024-03-11 Government Services           88.00          NaN
        669 2024-03-11      Other Expenses          669.00          NaN
        670 2024-03-11 Government Services           88.00          NaN
        671 2024-03-11      Other Expenses          138.00          NaN
        672 2024-03-11           Utilities           89.00          NaN
        673 2024-03-12 Government Services           88.00          NaN
        674 2024-03-12      Other Expenses          315.00          NaN
        675 2024-03-12      Other Expenses          345.93          NaN
        676 2024-03-12      Other Expenses          345.93          NaN
        677 2024-03-12 Government Services           88.00          NaN
        678 2024-03-12      Other Expenses           42.00          NaN
        679 2024-03-12      Other Expenses          345.93          NaN
        680 2024-03-12      Other Expenses          859.00          NaN
        681 2024-03-12      Other Expenses          315.00          NaN
        682 2024-03-12      Other Expenses          669.00          NaN
        683 2024-03-12      Other Expenses          669.00          NaN
        684 2024-03-12      Other Expenses          422.00          NaN
        685 2024-03-12      Other Expenses          315.00          NaN
        686 2024-03-12      Other Expenses          481.75          NaN
        687 2024-03-12      Other Expenses           82.00          NaN
        688 2024-03-12      Other Expenses          718.72          NaN
        689 2024-03-12      Other Expenses          718.72          NaN
        690 2024-03-13 Government Services          257.00          NaN
        691 2024-03-13 Government Services          257.00          NaN
        692 2024-03-13      Other Expenses          458.85          NaN
        693 2024-03-13 Government Services          257.00          NaN
        694 2024-03-13      Other Expenses          458.85          NaN
        695 2024-03-13      Other Expenses          458.85          NaN
        696 2024-03-13 Government Services           47.00          NaN
        697 2024-03-13      Other Expenses          458.85          NaN
        698 2024-03-13      Other Expenses           28.00          NaN
        699 2024-03-13      Other Expenses          605.00          NaN
        700 2024-03-13      Other Expenses          731.82          NaN
        701 2024-03-13  Debts/Overpayments           19.00          NaN
        702 2024-03-14 Government Services          257.00          NaN
        703 2024-03-14      Other Expenses          234.00          NaN
        704 2024-03-14 Government Services          341.00          NaN
        705 2024-03-14      Other Expenses           82.00          NaN
        706 2024-03-14      Other Expenses           82.00          NaN
        707 2024-03-14      Other Expenses           28.00          NaN
        708 2024-03-15      Other Expenses           82.00          NaN
        709 2024-03-15      Other Expenses           28.00          NaN
        710 2024-03-15      Other Expenses          731.82          NaN
        711 2024-03-15      Other Expenses          892.00          NaN
        712 2024-03-15      Other Expenses          731.82          NaN
        713 2024-03-15      Other Expenses          892.00          NaN
        714 2024-03-15 Government Services           68.00          NaN
        715 2024-03-15      Other Expenses          863.30          NaN
        716 2024-03-15      Other Expenses           42.00          NaN
        717 2024-03-15      Other Expenses          863.30          NaN
        718 2024-03-15      Other Expenses          189.00          NaN
        719 2024-03-15 Government Services          684.00          NaN
        720 2024-03-15 Government Services           68.00          NaN
        721 2024-03-16       Income/Salary             NaN      20000.0
        722 2024-03-16      Other Expenses          948.88          NaN
        723 2024-03-16       Income/Salary             NaN      20000.0
        724 2024-03-16       Income/Salary             NaN      20000.0
        725 2024-03-16       Income/Salary             NaN      20000.0
        726 2024-03-16      Other Expenses           19.00          NaN
        727 2024-03-16       Income/Salary             NaN      20000.0
        728 2024-03-16       Income/Salary             NaN      20000.0
        729 2024-03-16 Government Services           68.00          NaN
        730 2024-03-16       Income/Salary             NaN      20000.0
        731 2024-03-16      Other Expenses          217.00          NaN
        732 2024-03-16       Income/Salary             NaN      20000.0
        733 2024-03-16       Income/Salary             NaN      20000.0
        734 2024-03-16      Other Expenses          948.88          NaN
        735 2024-03-16       Income/Salary             NaN      20000.0
        736 2024-03-16      Other Expenses          948.88          NaN
        737 2024-03-16       Income/Salary             NaN      20000.0
        738 2024-03-16      Other Expenses          863.30          NaN
        739 2024-03-16      Other Expenses           42.00          NaN
        740 2024-03-16      Other Expenses          863.30          NaN
        741 2024-03-16      Other Expenses          863.30          NaN
        742 2024-03-16      Other Expenses           42.00          NaN
        743 2024-03-17      Other Expenses           42.00          NaN
        744 2024-03-17      Other Expenses          863.30          NaN
        745 2024-03-17      Other Expenses           42.00          NaN
        746 2024-03-17      Other Expenses           42.00          NaN
        747 2024-03-17           Utilities          759.00          NaN
        748 2024-03-17      Other Expenses           68.00          NaN
        749 2024-03-17 Government Services          992.00          NaN
        750 2024-03-18      Other Expenses           68.00          NaN
        751 2024-03-18           Utilities          772.00          NaN
        752 2024-03-18           Utilities           89.00          NaN
        753 2024-03-18      Other Expenses          894.00          NaN
        754 2024-03-18           Utilities           89.00          NaN
        755 2024-03-18      Other Expenses          321.00          NaN
        756 2024-03-18 Government Services          753.00          NaN
        757 2024-03-18 Government Services          675.00          NaN
        758 2024-03-18 Government Services          675.00          NaN
        759 2024-03-18      Other Expenses          659.00          NaN
        760 2024-03-18           Utilities          143.00          NaN
        761 2024-03-18      Other Expenses           44.00          NaN
        762 2024-03-18           Utilities          143.00          NaN
        763 2024-03-18      Other Expenses          321.00          NaN
        764 2024-03-19      Other Expenses           89.00          NaN
        765 2024-03-19 Government Services          447.43          NaN
        766 2024-03-19      Other Expenses           89.00          NaN
        767 2024-03-19      Other Expenses          320.04          NaN
        768 2024-03-19      Other Expenses          320.04          NaN
        769 2024-03-19      Other Expenses           63.00          NaN
        770 2024-03-19      Other Expenses          465.69          NaN
        771 2024-03-19      Other Expenses          102.00          NaN
        772 2024-03-19      Other Expenses           72.00          NaN
        773 2024-03-19      Other Expenses           67.00          NaN
        774 2024-03-19      Other Expenses           97.00          NaN
        775 2024-03-19      Other Expenses          894.00          NaN
        776 2024-03-19      Other Expenses          894.00          NaN
        777 2024-03-19      Other Expenses           67.00          NaN
        778 2024-03-19      Other Expenses          465.69          NaN
        779 2024-03-20      Other Expenses           97.00          NaN
        780 2024-03-20      Other Expenses          385.00          NaN
        781 2024-03-20      Other Expenses           72.00          NaN
        782 2024-03-20       Income/Salary             NaN      50000.0
        783 2024-03-20      Other Expenses           67.00          NaN
        784 2024-03-20      Other Expenses          102.00          NaN
        785 2024-03-20      Other Expenses          894.00          NaN
        786 2024-03-20      Other Expenses          151.22          NaN
        787 2024-03-20 Government Services          214.00          NaN
        788 2024-03-21      Other Expenses           41.99          NaN
        789 2024-03-21      Other Expenses           56.00          NaN
        790 2024-03-21      Other Expenses           41.99          NaN
        791 2024-03-21      Other Expenses          859.51          NaN
        792 2024-03-22      Other Expenses          173.35          NaN
        793 2024-03-22      Other Expenses           41.99          NaN
        794 2024-03-22      Other Expenses           56.00          NaN
        795 2024-03-22 Government Services          599.00          NaN
        796 2024-03-22      Other Expenses          600.00          NaN
        797 2024-03-22      Other Expenses          731.82          NaN
        798 2024-03-22      Other Expenses          173.35          NaN
        799 2024-03-23      Other Expenses          431.00          NaN
        800 2024-03-23      Other Expenses          162.21          NaN
        801 2024-03-23 Government Services          743.00          NaN
        802 2024-03-23       Income/Salary             NaN        870.0
        803 2024-03-23 Government Services          778.00          NaN
        804 2024-03-23      Other Expenses          654.25          NaN
        805 2024-03-23      Other Expenses           50.00          NaN
        806 2024-03-23 Government Services          921.00          NaN
        807 2024-03-23      Other Expenses           51.00          NaN
        808 2024-03-23 Government Services          778.00          NaN
        809 2024-03-24      Other Expenses           51.00          NaN
        810 2024-03-24  Debts/Overpayments          810.00          NaN
        811 2024-03-24  Debts/Overpayments          810.00          NaN
        812 2024-03-24      Other Expenses          633.00          NaN
        813 2024-03-24       Income/Salary             NaN       4000.0
        814 2024-03-24      Other Expenses         1100.00          NaN
        815 2024-03-24      Other Expenses          506.00          NaN
        816 2024-03-24      Other Expenses         1100.00          NaN
        817 2024-03-24      Other Expenses          358.00          NaN
        818 2024-03-24      Other Expenses          358.00          NaN
        819 2024-03-24      Other Expenses          193.00          NaN
        820 2024-03-24      Other Expenses          193.00          NaN
        821 2024-03-24      Other Expenses          193.00          NaN
        822 2024-03-25      Other Expenses          382.68          NaN
        823 2024-03-25           Utilities          335.00          NaN
        824 2024-03-25           Utilities          335.00          NaN
        825 2024-03-25      Other Expenses          285.00          NaN
        826 2024-03-25      Other Expenses          672.00          NaN
        827 2024-03-25      Other Expenses          285.00          NaN
        828 2024-03-25  Debts/Overpayments          227.30          NaN
        829 2024-03-26      Other Expenses          894.00          NaN
        830 2024-03-26      Other Expenses          970.00          NaN
        831 2024-03-26      Other Expenses          970.00          NaN
        832 2024-03-26 Government Services          813.00          NaN
        833 2024-03-26      Other Expenses          726.00          NaN
        834 2024-03-26      Other Expenses          726.00          NaN
        835 2024-03-26 Government Services          813.00          NaN
        836 2024-03-26      Other Expenses          695.00          NaN
        837 2024-03-26      Other Expenses          286.00          NaN
        838 2024-03-26      Other Expenses          286.00          NaN
        839 2024-03-26      Other Expenses          286.00          NaN
        840 2024-03-26 Government Services           91.00          NaN
        841 2024-03-27 Government Services          255.00          NaN
        842 2024-03-27  Debts/Overpayments          898.00          NaN
        843 2024-03-27  Debts/Overpayments          898.00          NaN
        844 2024-03-27  Debts/Overpayments          898.00          NaN
        845 2024-03-27  Debts/Overpayments          898.00          NaN
        846 2024-03-27           Utilities          811.00          NaN
        847 2024-03-27  Debts/Overpayments          898.00          NaN
        848 2024-03-27      Other Expenses          777.00          NaN
        849 2024-03-27      Other Expenses          695.00          NaN
        850 2024-03-27 Government Services           77.00          NaN
        851 2024-03-28      Other Expenses           42.00          NaN
        852 2024-03-28 Government Services           77.00          NaN
        853 2024-03-28      Other Expenses          551.81          NaN
        854 2024-03-28      Other Expenses          138.00          NaN
        855 2024-03-28      Other Expenses          605.00          NaN
        856 2024-03-28 Government Services           77.00          NaN
        857 2024-03-28 Government Services           77.00          NaN
        858 2024-03-28 Government Services           88.00          NaN
        859 2024-03-28 Government Services          607.00          NaN
        860 2024-03-28      Other Expenses          315.00          NaN
        861 2024-03-28      Other Expenses          481.75          NaN
        862 2024-03-28      Other Expenses          605.00          NaN
        863 2024-03-28      Other Expenses          234.00          NaN
        864 2024-03-28      Other Expenses          234.00          NaN
        865 2024-03-28      Other Expenses          481.75          NaN
        866 2024-03-28      Other Expenses          399.00          NaN
        867 2024-03-28      Other Expenses           65.00          NaN
        868 2024-03-28      Other Expenses          366.00          NaN
        869 2024-03-28      Other Expenses           65.00          NaN
        870 2024-03-28      Other Expenses          366.00          NaN
        871 2024-03-28           Utilities          982.00          NaN
        872 2024-03-28           Utilities          982.00          NaN
        873 2024-03-28  Debts/Overpayments          162.00          NaN
        874 2024-03-28      Other Expenses          845.87          NaN
        875 2024-03-28           Utilities          982.00          NaN
        876 2024-03-28      Other Expenses           92.00          NaN
        877 2024-03-28      Other Expenses          802.97          NaN
        878 2024-03-28 Government Services          667.00          NaN
        879 2024-03-29 Government Services          178.00          NaN
        880 2024-03-29      Other Expenses          600.00          NaN
        881 2024-03-29      Other Expenses           92.00          NaN
        882 2024-03-29      Other Expenses          469.08          NaN
        883 2024-03-29      Other Expenses          830.00          NaN
        884 2024-03-29      Other Expenses          830.00          NaN
        885 2024-03-29      Other Expenses          703.98          NaN

--- data_analysis()
Based on the information obtained, the average cost of food in Kuala Lumpur is approximately $15 (RM71) per day. This includes dining out with an average meal cost of around $5.99 (RM28) per person.

Now, let's calculate the estimated increase in expenses for each category after moving to Kuala Lumpur:

### Daily Food Expense:
- **Current Average Daily Food Expense**: $15 per day
- **Predicted Increase**: Due to the higher cost of living in Kuala Lumpur, we can estimate an increase of approximately 30% in daily food expenses.

### Daily Commuting Expense:
- For daily commuting expenses, we will need additional information on your current commuting costs in Kedah to estimate the increase in commuting expenses in Kuala Lumpur.

### Monthly Rental Expense:
- Based on the provided data, we will calculate the average monthly rental expense and estimate the increase in rental expenses after moving to Kuala Lumpur.

Let's proceed with the calculations and provide you with the estimated increase in expenses for each category.
I recorded your expense/income as follows: `null`
>>> Prompt: can you calculate an expense average starting from the first day this year to now?
expense_prediction -> 
--- model return date
--- selected date {'start_date': '01-01-2024', 'end_date': '29-03-2024'}
Traceback (most recent call last):
  File "/Users/gohyixian/Documents/GitHub/chatgpt-retrieval/main.py", line 261, in <module>
    output = expenses_prediction(client=client, agent_executor=model_expenses_prediction, chat_history=chat_history, user_input=prompt)
  File "/Users/gohyixian/Documents/GitHub/chatgpt-retrieval/main.py", line 201, in expenses_prediction
    response = agent_executor.invoke({
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/chains/base.py", line 163, in invoke
    raise e
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/chains/base.py", line 153, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/agents/agent.py", line 1432, in _call
    next_step_output = self._take_next_step(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/agents/agent.py", line 1138, in _take_next_step
    [
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/agents/agent.py", line 1138, in <listcomp>
    [
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/agents/agent.py", line 1166, in _iter_next_step
    output = self.agent.plan(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain/agents/agent.py", line 397, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 2791, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 2778, in transform
    yield from self._transform_stream_with_config(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 1849, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 2742, in _transform
    for output in final_pipeline:
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 1283, in transform
    for chunk in input:
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 4638, in transform
    yield from self.bound.transform(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/runnables/base.py", line 1300, in transform
    yield from self.stream(final, config, **kwargs)
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py", line 239, in stream
    raise e
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py", line 222, in stream
    for chunk in self._stream(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/langchain_openai/chat_models/base.py", line 441, in _stream
    for chunk in self.client.create(messages=message_dicts, **params):
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/openai/_utils/_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/openai/resources/chat/completions.py", line 667, in create
    return self._post(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/openai/_base_client.py", line 1208, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/openai/_base_client.py", line 897, in request
    return self._request(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/langchain/lib/python3.10/site-packages/openai/_base_client.py", line 988, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "This model's maximum context length is 16385 tokens. However, your messages resulted in 19921 tokens (19850 in the messages, 71 in the functions). Please reduce the length of the messages or functions.", 'type': 'invalid_request_error', 'param': 'messages', 'code': 'context_length_exceeded'}}
(langchain) ðŸŽƒ gohyixian chatgpt-retrieval % 